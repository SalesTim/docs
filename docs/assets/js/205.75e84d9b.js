(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{641:function(e,t,a){"use strict";a.r(t);var r=a(36),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"setup-common-prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-common-prerequisites"}},[e._v("#")]),e._v(" Setup common prerequisites")]),e._v(" "),a("p",[a("strong",[e._v("TABLE OF CONTENTS")]),e._v(":\n")]),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#install-terraform"}},[e._v("Install Terraform")])]),a("li",[a("a",{attrs:{href:"#get-the-deployment-projects-templates"}},[e._v("Get the deployment projects templates")])]),a("li",[a("a",{attrs:{href:"#create-a-new-app-registration-in-azure-active-directory"}},[e._v("Create a new app registration in Azure Active Directory")])]),a("li",[a("a",{attrs:{href:"#next-steps"}},[e._v("Next steps")])])])]),a("p"),e._v(" "),a("hr"),e._v(" "),a("h2",{attrs:{id:"install-terraform"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-terraform"}},[e._v("#")]),e._v(" Install Terraform")]),e._v(" "),a("p",[e._v("Our deployment projects templates for both Docker and Azure rely on the infrastructure-as-code solution "),a("a",{attrs:{href:"https://www.terraform.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Terraform"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v("For this tutorial, we assumes you're running a debian-based distro (such as ubuntu), either from a native Linux box, or WSL from Windows.\nFor other platforms, see how to "),a("a",{attrs:{href:"https://learn.hashicorp.com/tutorials/terraform/install-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("install terraform cli"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("Before installing Terraform, ensure that your system is up to date, and you have the gnupg, software-properties-common, and curl packages installed. You will use these packages to verify HashiCorp's GPG signature, and install HashiCorp's Debian package repository.")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -y gnupg software-properties-common "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v("\n")])])]),a("p",[e._v("Add the HashiCorp GPG key.")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -fsSL https://apt.releases.hashicorp.com/gpg "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" apt-key "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" -\n")])])]),a("p",[e._v("Add the official HashiCorp Linux repository.")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" apt-add-repository "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deb [arch=amd64] https://apt.releases.hashicorp.com '),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("lsb_release -cs"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v(' main"')]),e._v("\n")])])]),a("p",[e._v("Update apt to add the repository, and install the Terraform CLI.")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" terraform\n")])])]),a("p",[e._v("Check the installation with:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("terraform -v\n")])])]),a("h2",{attrs:{id:"get-the-deployment-projects-templates"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-the-deployment-projects-templates"}},[e._v("#")]),e._v(" Get the deployment projects templates")]),e._v(" "),a("p",[e._v("To get started quickly, clone locally the nBold "),a("a",{attrs:{href:"https://github.com/nboldhq",target:"_blank",rel:"noopener noreferrer"}},[e._v("Hosting"),a("OutboundLink")],1),e._v(" repository as a starting point. It has everything you need to boot up your own nBold platform.")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" salestim "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" salestim\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/nboldhq/hosting.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ./hosting\n")])])]),a("p",[e._v("From this repository, you'll find:")]),e._v(" "),a("ul",[a("li",[e._v("A Terraform project to provision a nBold environment on your own Docker server")]),e._v(" "),a("li",[e._v("Another Terraform project to provision a nBold environment on your own Azure tenant")])]),e._v(" "),a("h2",{attrs:{id:"create-a-new-app-registration-in-azure-active-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-app-registration-in-azure-active-directory"}},[e._v("#")]),e._v(" Create a new app registration in Azure Active Directory")]),e._v(" "),a("p",[e._v("To enable nBold to securely access your Microsoft 365 environment through the Microsoft Graph APIs, the first step is to create a dedicated app registration. An Azure AD app registration identifies a third-party app such as nBold, and defines the permissions you wan to grant to it. To learn more, you can refer to "),a("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-how-applications-are-added",target:"_blank",rel:"noopener noreferrer"}},[e._v("How and why applications are added to Azure AD"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("To create a new app registration, follow these steps:")]),e._v(" "),a("ul",[a("li",[e._v("Open your "),a("a",{attrs:{href:"https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Active Directory portal"),a("OutboundLink")],1)]),e._v(" "),a("li",[e._v("Select "),a("code",[e._v("App registrations")]),e._v(" from the left menu")]),e._v(" "),a("li",[e._v("Click "),a("code",[e._v("New registration")]),e._v(" from the top bar")]),e._v(" "),a("li",[e._v("Give the app a name:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\nnBold\n\n")])])]),a("ul",[a("li",[e._v("Select the option "),a("code",[e._v("Accounts in this organizational directory only")]),e._v(", as you want to restrict access to nBold to users from your own tenant.")]),e._v(" "),a("li",[e._v("Define the web redirection URLs according to your environment:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("https://[WEB_PUBLICURL]/auth/service_account/return_admin_consent\nhttps://[WEB_PUBLICURL]/auth/grant/return\nhttps://[WEB_PUBLICURL]/auth/openid/returnAdminConsent\nhttps://[WEB_PUBLICURL]/auth/openid/return\n")])])]),a("ul",[a("li",[e._v("Click "),a("code",[e._v("Register")])]),e._v(" "),a("li",[e._v("From the "),a("code",[e._v("Overview")]),e._v(" menu, copy the "),a("code",[e._v("Application (client) ID")]),e._v(", and "),a("strong",[e._v("keep it as we're gonna reuse it later")]),e._v(".")]),e._v(" "),a("li",[e._v("Open the "),a("code",[e._v("Authentication")]),e._v(" menu")]),e._v(" "),a("li",[e._v("Ensure that the "),a("code",[e._v("Access tokens (used for implicit flows)")]),e._v(" and "),a("code",[e._v("ID tokens (used for implicit and hybrid flows)")]),e._v(" options are checked from the "),a("code",[e._v("Implicit grant and hybrid flows")]),e._v(" section, and save your updates if required.")]),e._v(" "),a("li",[e._v("Open the "),a("code",[e._v("Certificates and secrets")]),e._v(" menu and click "),a("code",[e._v("New client secret")]),e._v(". "),a("strong",[e._v("A client secret is a kind of a password for your app, so manage it carefully")]),e._v(".")]),e._v(" "),a("li",[e._v("Give a name to your client secret such as:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("nBold client secret\n")])])]),a("ul",[a("li",[e._v("Select the expiration option, and click "),a("code",[e._v("Add")])]),e._v(" "),a("li",[e._v("Copy the "),a("code",[e._v("Secret Value")]),e._v(" value ("),a("strong",[e._v("be careful, it will only be shown once")]),e._v("), and keep it as we're gonna reuse it later.")])]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("Be careful")]),e._v(" "),a("p",[e._v("You should use the "),a("code",[e._v("Secret Value")]),e._v(", not the "),a("code",[e._v("Secret ID")]),e._v("!")])]),e._v(" "),a("ul",[a("li",[e._v("Open the "),a("code",[e._v("API permissions")]),e._v(" from the left menu and click "),a("code",[e._v("Add a permission")]),e._v(" from the top bar")]),e._v(" "),a("li",[e._v("Select "),a("code",[e._v("Microsoft Graph")]),e._v(", then from the permissions list, select the appropriate permissions as described in our "),a("RouterLink",{attrs:{to:"/trust-center/microsoft-graph-permissions.html"}},[e._v("Permissions References")]),e._v(" documentation.")],1),e._v(" "),a("li",[e._v("Click "),a("code",[e._v("Add permissions")])]),e._v(" "),a("li",[e._v("Then click "),a("code",[e._v("Grant admin consent for...")]),e._v(" then "),a("code",[e._v("Yes")])])]),e._v(" "),a("p",[e._v("You're done, you've created your app registration for the nBold app. You should also have saved for later the "),a("code",[e._v("Application (client) ID")]),e._v(" and "),a("code",[e._v("Client secret")]),e._v(" that we're gonna use in the next steps.")]),e._v(" "),a("blockquote",[a("p",[e._v("Congrats! You're now ready to deploy your nBold environment.")])]),e._v(" "),a("h2",{attrs:{id:"next-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[e._v("#")]),e._v(" Next steps")]),e._v(" "),a("p",[e._v("Just follow the appropriate guide for your target deployment environment:")]),e._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/hosting/installation/docker-deployment.html"}},[e._v("Docker Deployment")])],1),e._v(" "),a("li",[a("RouterLink",{attrs:{to:"/hosting/installation/azure-deployment.html"}},[e._v("Azure Deployment")])],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);