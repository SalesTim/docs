"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6865],{55090:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));n(78561);const i={},o="Setup common prerequisites",l={unversionedId:"hosting/installation/prerequisites",id:"hosting/installation/prerequisites",title:"Setup common prerequisites",description:"TABLE OF CONTENTS:",source:"@site/contents/76-hosting/30-installation/20-prerequisites.md",sourceDirName:"76-hosting/30-installation",slug:"/hosting/installation/prerequisites",permalink:"/hosting/installation/prerequisites",draft:!1,editUrl:"https://github.com/nboldhq/docs/tree/main/contents/76-hosting/30-installation/20-prerequisites.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{},sidebar:"autoSidebar",previous:{title:"Setup Guide",permalink:"/hosting/installation/"},next:{title:"Docker Deployment",permalink:"/hosting/installation/docker-deployment"}},s={},p=[{value:"Install Terraform",id:"install-terraform",level:2},{value:"Get the deployment projects templates",id:"get-the-deployment-projects-templates",level:2},{value:"Create a new app registration in Azure Active Directory",id:"create-a-new-app-registration-in-azure-active-directory",level:2},{value:"Next steps",id:"next-steps",level:2}],u={toc:p};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setup-common-prerequisites"},"Setup common prerequisites"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"TABLE OF CONTENTS"),":"),(0,r.kt)("h2",{id:"install-terraform"},"Install Terraform"),(0,r.kt)("p",null,"Our deployment projects templates for both Docker and Azure rely on the infrastructure-as-code solution ",(0,r.kt)("a",{parentName:"p",href:"https://www.terraform.io/"},"Terraform"),"."),(0,r.kt)("admonition",{title:"Note",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"For this tutorial, we assumes you're running a debian-based distro (such as ubuntu), either from a native Linux box, or WSL from Windows.\nFor other platforms, see how to ",(0,r.kt)("a",{parentName:"p",href:"https://learn.hashicorp.com/tutorials/terraform/install-cli"},"install terraform cli"))),(0,r.kt)("p",null,"Before installing Terraform, ensure that your system is up to date, and you have the gnupg, software-properties-common, and curl packages installed. You will use these packages to verify HashiCorp's GPG signature, and install HashiCorp's Debian package repository."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get update && sudo apt-get install -y gnupg software-properties-common curl\n")),(0,r.kt)("p",null,"Add the HashiCorp GPG key."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"curl -fsSL https://apt.releases.hashicorp.com/gpg | sudo apt-key add -\n")),(0,r.kt)("p",null,"Add the official HashiCorp Linux repository."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'sudo apt-add-repository "deb [arch=amd64] https://apt.releases.hashicorp.com $(lsb_release -cs) main"\n')),(0,r.kt)("p",null,"Update apt to add the repository, and install the Terraform CLI."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo apt-get update && sudo apt-get install terraform\n")),(0,r.kt)("p",null,"Check the installation with:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"terraform -v\n")),(0,r.kt)("h2",{id:"get-the-deployment-projects-templates"},"Get the deployment projects templates"),(0,r.kt)("p",null,"To get started quickly, clone locally the nBold ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/nboldhq"},"Hosting")," repository as a starting point. It has everything you need to boot up your own nBold platform."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir salestim && cd salestim\ngit clone https://github.com/nboldhq/hosting.git\ncd ./hosting\n")),(0,r.kt)("p",null,"From this repository, you'll find:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A Terraform project to provision a nBold environment on your own Docker server"),(0,r.kt)("li",{parentName:"ul"},"Another Terraform project to provision a nBold environment on your own Azure tenant")),(0,r.kt)("h2",{id:"create-a-new-app-registration-in-azure-active-directory"},"Create a new app registration in Azure Active Directory"),(0,r.kt)("p",null,"To enable nBold to securely access your Microsoft 365 environment through the Microsoft Graph APIs, the first step is to create a dedicated app registration. An Azure AD app registration identifies a third-party app such as nBold, and defines the permissions you wan to grant to it. To learn more, you can refer to ",(0,r.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-how-applications-are-added"},"How and why applications are added to Azure AD"),"."),(0,r.kt)("p",null,"To create a new app registration, follow these steps:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open your ",(0,r.kt)("a",{parentName:"li",href:"https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview"},"Azure Active Directory portal")),(0,r.kt)("li",{parentName:"ul"},"Select ",(0,r.kt)("inlineCode",{parentName:"li"},"App registrations")," from the left menu"),(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"New registration")," from the top bar"),(0,r.kt)("li",{parentName:"ul"},"Give the app a name:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\nnBold\n\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Select the option ",(0,r.kt)("inlineCode",{parentName:"li"},"Accounts in this organizational directory only"),", as you want to restrict access to nBold to users from your own tenant."),(0,r.kt)("li",{parentName:"ul"},"Define the web redirection URLs according to your environment:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"https://[WEB_PUBLICURL]/auth/service_account/return_admin_consent\nhttps://[WEB_PUBLICURL]/auth/grant/return\nhttps://[WEB_PUBLICURL]/auth/openid/returnAdminConsent\nhttps://[WEB_PUBLICURL]/auth/openid/return\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Register")),(0,r.kt)("li",{parentName:"ul"},"From the ",(0,r.kt)("inlineCode",{parentName:"li"},"Overview")," menu, copy the ",(0,r.kt)("inlineCode",{parentName:"li"},"Application (client) ID"),", and ",(0,r.kt)("strong",{parentName:"li"},"keep it as we're gonna reuse it later"),"."),(0,r.kt)("li",{parentName:"ul"},"Open the ",(0,r.kt)("inlineCode",{parentName:"li"},"Authentication")," menu"),(0,r.kt)("li",{parentName:"ul"},"Ensure that the ",(0,r.kt)("inlineCode",{parentName:"li"},"Access tokens (used for implicit flows)")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"ID tokens (used for implicit and hybrid flows)")," options are checked from the ",(0,r.kt)("inlineCode",{parentName:"li"},"Implicit grant and hybrid flows")," section, and save your updates if required."),(0,r.kt)("li",{parentName:"ul"},"Open the ",(0,r.kt)("inlineCode",{parentName:"li"},"Certificates and secrets")," menu and click ",(0,r.kt)("inlineCode",{parentName:"li"},"New client secret"),". ",(0,r.kt)("strong",{parentName:"li"},"A client secret is a kind of a password for your app, so manage it carefully"),"."),(0,r.kt)("li",{parentName:"ul"},"Give a name to your client secret such as:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"nBold client secret\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Select the expiration option, and click ",(0,r.kt)("inlineCode",{parentName:"li"},"Add")),(0,r.kt)("li",{parentName:"ul"},"Copy the ",(0,r.kt)("inlineCode",{parentName:"li"},"Secret Value")," value (",(0,r.kt)("strong",{parentName:"li"},"be careful, it will only be shown once"),"), and keep it as we're gonna reuse it later.")),(0,r.kt)("admonition",{title:"Be careful",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"You should use the ",(0,r.kt)("inlineCode",{parentName:"p"},"Secret Value"),", not the ",(0,r.kt)("inlineCode",{parentName:"p"},"Secret ID"),"!  ")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Open the ",(0,r.kt)("inlineCode",{parentName:"li"},"API permissions")," from the left menu and click ",(0,r.kt)("inlineCode",{parentName:"li"},"Add a permission")," from the top bar"),(0,r.kt)("li",{parentName:"ul"},"Select ",(0,r.kt)("inlineCode",{parentName:"li"},"Microsoft Graph"),", then from the permissions list, select the appropriate permissions as described in our ",(0,r.kt)("a",{parentName:"li",href:"/trust-center/microsoft-graph-permissions.md"},"Permissions References")," documentation."),(0,r.kt)("li",{parentName:"ul"},"Click ",(0,r.kt)("inlineCode",{parentName:"li"},"Add permissions")),(0,r.kt)("li",{parentName:"ul"},"Then click ",(0,r.kt)("inlineCode",{parentName:"li"},"Grant admin consent for...")," then ",(0,r.kt)("inlineCode",{parentName:"li"},"Yes"))),(0,r.kt)("p",null,"You're done, you've created your app registration for the nBold app. You should also have saved for later the ",(0,r.kt)("inlineCode",{parentName:"p"},"Application (client) ID")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Client secret")," that we're gonna use in the next steps."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Congrats! You're now ready to deploy your nBold environment.")),(0,r.kt)("h2",{id:"next-steps"},"Next steps"),(0,r.kt)("p",null,"Just follow the appropriate guide for your target deployment environment:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/hosting/installation/docker-deployment.md"},"Docker Deployment")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/hosting/installation/azure-deployment.md"},"Azure Deployment"))))}d.isMDXComponent=!0}}]);